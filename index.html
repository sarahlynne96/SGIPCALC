<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SGIP Eligibility & Incentive Calculator</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_API_KEY&libraries=places"></script>
  <script type="module" src="script.js" defer></script>
</head>
<body>
  <h1>Self-Generation Incentive Program (SGIP)</h1>
  <p style="text-align:center; max-width: 700px; margin: 0 auto; font-size: 1rem;">
    SGIP offers <strong>up to $1,100/kWh</strong> for storage and <strong>$3,100/kW</strong> for solar, covering 100% of system cost for qualifying low-income homes. Start here to check your eligibility.
  </p>

  <div class="container">
    <div class="calculator">
      <form id="calcForm">
        <!-- Address Lookup -->
        <div>
          <label for="address">Enter Your Address</label>
          <input type="text" id="address" placeholder="123 Main St, City, CA" />
          <small id="map-status">Checking location for DAC and Fire Threat status...</small>
        </div>

        <div>
          <label for="customerType">1. Host Customer Class</label>
          <select id="customerType">
            <option value="">Select type</option>
            <option value="residential-single">Residential Single-Family</option>
            <option value="residential-multi">Residential Multifamily</option>
            <option value="commercial">Commercial/Business</option>
            <option value="industrial">Industrial/Agricultural</option>
          </select>
        </div>

        <div>
          <label for="programs">2. Qualifying Program Participation</label>
          <select id="programs">
            <option value="">Select one</option>
            <option value="care">CARE/FERA/ESA</option>
            <option value="sash">SASH / DAC-SASH</option>
            <option value="income">80% AMI (HUD Verified)</option>
            <option value="mash">MASH / SOMAH (Multifamily)</option>
            <option value="none">None</option>
          </select>
        </div>

        <div>
          <label for="capacity">3. Storage Capacity (kWh)</label>
          <input type="number" id="capacity" min="0" value="30.6" placeholder="Default 30.6 kWh (3 batteries)" />
        </div>

        <div>
          <label for="solarCapacity">4. Solar PV Capacity (kW)</label>
          <input type="number" id="solarCapacity" min="0" step="0.1" placeholder="Leave blank to auto-estimate from square footage" />
        </div>

        <div>
          <label for="squareFootage">5. Home Square Footage</label>
          <input type="number" id="squareFootage" min="0" placeholder="e.g., 2000" />
        </div>

        <div>
          <label for="utility">6. Utility Provider</label>
          <select id="utility">
            <option value="">Select</option>
            <option value="sce">SCE</option>
            <option value="pge">PG&E</option>
            <option value="scg">SoCalGas</option>
            <option value="cse">CSE</option>
            <option value="ladwp">LADWP</option>
          </select>
        </div>

        <div>
          <button type="button" id="btnCheck">Calculate Eligibility & Incentive</button>
        </div>
      </form>

      <div id="result" class="result" style="display:none;"></div>
    </div>
  </div>
</body>
</html>